<div class="ticket-form-container">
  <!-- Bouton pour afficher/cacher le formulaire -->
  <button type="button" (click)="toggleForm()" class="actions btn-toggle">
    {{ showForm ? 'Annuler' : 'Ajouter un ticket' }}
  </button>

  <!-- Formulaire d'ajout -->
  <form *ngIf="showForm" #ticketForm="ngForm" (ngSubmit)="addTicket(ticketForm)" class="ticket-form-card">
    <div class="form-group">
      <label for="titre">Titre :</label>
      <input id="titre" type="text" [(ngModel)]="ticket.titre" name="titre" required class="form-input" />
    </div>

    <div class="form-group">
      <label for="description">Description :</label>
      <textarea id="description" [(ngModel)]="ticket.description" name="description" class="form-input"></textarea>
    </div>

    <div class="form-group">
      <label for="priorite">Priorité :</label>
      <select id="priorite" [(ngModel)]="ticket.priorite" name="priorite" required class="form-input">
        <option *ngFor="let p of priorites" [value]="p">{{ p }}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="statut">Statut :</label>
      <select id="statut" [(ngModel)]="ticket.statut" name="statut" required class="form-input">
        <option *ngFor="let s of statuts" [value]="s">{{ s }}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="assigneAId">Assigné à :</label>
      <select id="assigneAId" [(ngModel)]="assigneAId" name="assigneAId" required class="form-input">
        <option *ngFor="let user of users" [value]="user.id">{{ user.nom }}</option>
      </select>
    </div>

    <div class="form-actions">
      <button type="submit" class="actions add">Ajouter</button>
    </div>
  </form>
</div>
